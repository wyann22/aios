# ç¬¬0è¯¾ï¼šLLMæŽ¨ç†å…¥é—¨

## AIOS: ä»Žé›¶æž„å»º LLM çš„"æ“ä½œç³»ç»Ÿ"

**GitHub ä»“åº“**: [https://github.com/wyann22/aios](https://github.com/wyann22/aios)

ðŸ“š æ‰€æœ‰è¯¾ä»¶ã€ä»£ç å’Œèµ„æºéƒ½ä¼šåœ¨æ­¤ä»“åº“æŒç»­æ›´æ–°

---

ä½ æ˜¯å¦æƒ³è¿‡ ChatGPT æ˜¯å¦‚ä½•ç”Ÿæˆå›žå¤çš„ï¼Ÿ70äº¿å‚æ•°çš„æ¨¡åž‹å¦‚ä½•åœ¨ GPU ä¸Šè¿è¡Œï¼Ÿä¸ºä»€ä¹ˆæŽ¨ç†ä¼˜åŒ–å¦‚æ­¤é‡è¦ï¼Ÿ

æœ¬è¯¾ç¨‹å°†å¸¦ä½ äº²æ‰‹ä»Žé›¶æž„å»ºä¸€ä¸ª LLM æŽ¨ç†æ¡†æž¶ã€‚å­¦å®Œä¹‹åŽï¼Œä½ ä¸ä»…ä¼š*ä½¿ç”¨* LLMï¼Œæ›´ä¼šæ·±åˆ»ç†è§£å®ƒä»¬çš„åº•å±‚è¿ä½œåŽŸç†ã€‚

### æœ¬è¯¾ç¨‹é€‚åˆè°ï¼Ÿ

| è§’è‰² | æ”¶èŽ· |
|------|------|
| **è½¯ä»¶å·¥ç¨‹å¸ˆ** | ç†è§£ AI/ML ç³»ç»Ÿæž¶æž„ |
| **AI infraä»Žä¸šè€…** | æ·±å…¥ç†è§£å¤§æ¨¡åž‹æŽ¨ç† |
| **å­¦ç”Ÿ** | å¯å®žè·µã€å¯è½åœ°çš„é¡¹ç›®ï¼Œæ‰¾å·¥ä½œ |

### ä½ å°†æ”¶èŽ·ä»€ä¹ˆ

å®Œæˆæœ¬è¯¾ç¨‹åŽï¼Œä½ å°†èƒ½å¤Ÿï¼š
- ç†è§£å¤§æ¨¡åž‹æž¶æž„
- ä»Žé›¶åŠ è½½å’Œè¿è¡Œ Llama/Qwen ç­‰æ¨¡åž‹
- å®žçŽ°å¯è¿è¡Œçš„ LLM æŽ¨ç†å¼•æ“Ž
- æŽŒæ¡ KV-cacheã€TP/PPã€AIç¼–è¯‘ç­‰ä¼˜åŒ–æŠ€æœ¯

---

## Part 1: LLM æœ¬è´¨ä¹Ÿæ˜¯è½¯ä»¶

åœ¨æ·±å…¥å®žçŽ°ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆç†è§£ LLM ä¸Žä¼ ç»Ÿè½¯ä»¶çš„æ ¹æœ¬åŒºåˆ«ã€‚è¿™ä¸ªå¯¹æ¯”å°†ä¸ºä½ æä¾›è´¯ç©¿æ•´ä¸ªè¯¾ç¨‹æ‰€éœ€çš„æ€ç»´æ¡†æž¶ã€‚

### è½¯ä»¶çš„æœ¬è´¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¼ ç»Ÿè½¯ä»¶                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”          â”‚
â”‚  â”‚è¾“å…¥â”‚ â”€â”€â”€â–º â”‚ ä»£ç é€»è¾‘  â”‚ â”€â”€â”€â–º â”‚è¾“å‡ºâ”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LLM                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚Tokenè¾“å…¥â”‚ â”€â–º â”‚ç¥žç»ç½‘ç»œå±‚â”‚ â”€â–º â”‚ æ¦‚çŽ‡åˆ†å¸ƒ â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ‰€æœ‰è½¯ä»¶éƒ½éµå¾ªï¼šè¾“å…¥ â†’ å¤„ç† â†’ è¾“å‡º**

| | ä¼ ç»Ÿè½¯ä»¶ | LLM |
|--|---------|-----|
| **è¾“å…¥** | ç»“æž„åŒ–æ•°æ®ï¼ˆJSONã€SQLï¼‰ | Tokenåºåˆ—ï¼ˆè‡ªç„¶è¯­è¨€â†’æ•°å­—ï¼‰ |
| **å¤„ç†** | æ‰§è¡Œä»£ç é€»è¾‘ | çŸ©é˜µè¿ç®—ç©¿è¿‡ç¥žç»ç½‘ç»œå±‚ |
| **è¾“å‡º** | ç»“æž„åŒ–æ•°æ® | æ¦‚çŽ‡åˆ†å¸ƒ â†’ ä¸‹ä¸€ä¸ªtoken |

---

## Part 2: LLM vs ä¼ ç»Ÿè½¯ä»¶

LLMä¹Ÿæ˜¯è¿è¡Œåœ¨è®¡ç®—æœºä¸Šçš„è½¯ä»¶ï¼Œè·Ÿä¼ ç»Ÿè½¯ä»¶æœ‰ä½•ä¸åŒï¼Ÿ

![llama2-70b](./images/llama-2-70b.png)

> "é­”æ³•"éƒ½åœ¨æƒé‡é‡Œ

### Llama3: å…¸åž‹çš„ LLM æž¶æž„

![Llama3](./images/Llama3.png)

> ðŸ’¡ è®¿é—® [Hugging Face](https://hf-mirror.com/meta-llama/Meta-Llama-3-8B) æŸ¥çœ‹å®Œæ•´æ¨¡åž‹å¡ç‰‡

### ä¼ ç»Ÿè½¯ä»¶èŒƒå¼

ä¼ ç»Ÿè½¯ä»¶éµå¾ªç¨‹åºå‘˜å®šä¹‰çš„æ˜¾å¼è§„åˆ™ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä¼ ç»Ÿè½¯ä»¶                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   è¾“å…¥ â”€â”€â–º è§„åˆ™ï¼ˆä»£ç ï¼‰ â”€â”€â–º è¾“å‡º                             â”‚
â”‚                                                             â”‚
â”‚   ç¤ºä¾‹ï¼šæ‹¼å†™æ£€æŸ¥å™¨                                           â”‚
â”‚                                                             â”‚
â”‚   "helo" â”€â”€â–º å­—å…¸æŸ¥æ‰¾ â”€â”€â–º "hello"                           â”‚
â”‚              + ç¼–è¾‘è·ç¦»                                      â”‚
â”‚              + é¢„å®šä¹‰è§„åˆ™                                    â”‚
â”‚                                                             â”‚
â”‚   ç‰¹ç‚¹ï¼š                                                    â”‚
â”‚   âœ“ ç¡®å®šæ€§ï¼ˆç›¸åŒè¾“å…¥ = ç›¸åŒè¾“å‡ºï¼‰                            â”‚
â”‚   âœ“ å¯è§£é‡Šï¼ˆå¯ä»¥è¿½è¸ªä»£ç è·¯å¾„ï¼‰                               â”‚
â”‚   âœ“ èµ„æºä½¿ç”¨å¯é¢„æµ‹                                          â”‚
â”‚   âœ“ æ˜“äºŽè°ƒè¯•å’Œæµ‹è¯•                                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

åœ¨ä¼ ç»Ÿè½¯ä»¶ä¸­ï¼š
- **è¡Œä¸ºæ˜¯æ˜¾å¼çš„**ï¼šæ¯ä¸ªå¯èƒ½çš„åŠ¨ä½œéƒ½ç”±ç¨‹åºå‘˜ç¼–ç 
- **é€»è¾‘æ˜¯å¯è§çš„**ï¼šä½ å¯ä»¥ç²¾ç¡®è¿½è¸ªå†³ç­–çš„åŽŸå› 
- **æµ‹è¯•æ˜¯ç›´æŽ¥çš„**ï¼šå®šä¹‰è¾“å…¥ï¼ŒéªŒè¯è¾“å‡º
- **å†…å­˜æ˜¯ç»“æž„åŒ–çš„**ï¼šæ•°æ®ç¬¦åˆé¢„å®šä¹‰çš„æ¨¡å¼

### LLM èŒƒå¼

LLM ä»Žæ•°æ®ä¸­å­¦ä¹ æ¨¡å¼ï¼Œè€Œéžéµå¾ªæ˜¾å¼è§„åˆ™ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åŸºäºŽ LLM çš„è½¯ä»¶                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   è¾“å…¥ â”€â”€â–º å­¦ä¹ åˆ°çš„æƒé‡ â”€â”€â–º æ¦‚çŽ‡åˆ†å¸ƒ â”€â”€â–º è¾“å‡º                 â”‚
â”‚            ï¼ˆå‚æ•°ï¼‰                                          â”‚
â”‚                                                             â”‚
â”‚   ç¤ºä¾‹ï¼šè¯ä¹‰æ¶ˆæ­§                                             â”‚
â”‚                                                             â”‚
â”‚   "I deposited money at the bank" â”€â”€â–º LLM â”€â”€â–º bank = é“¶è¡Œ âœ“ â”‚
â”‚   "The river bank was steep"      â”€â”€â–º LLM â”€â”€â–º bank = æ²³å²¸ âœ“ â”‚
â”‚                                                             â”‚
â”‚   ç‰¹ç‚¹ï¼š                                                    â”‚
â”‚   âœ— éžç¡®å®šæ€§ï¼ˆæ¸©åº¦ã€é‡‡æ ·ï¼‰                                   â”‚
â”‚   âœ— é»‘ç›’ï¼ˆæƒé‡ç¼–ç æ¨¡å¼ï¼‰                                     â”‚
â”‚   âœ“ èƒ½æ³›åŒ–åˆ°æœªè§è¿‡çš„è¾“å…¥                                     â”‚
â”‚   âœ“ è‡ªç„¶å¤„ç†æ­§ä¹‰                                            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

åœ¨åŸºäºŽ LLM çš„è½¯ä»¶ä¸­ï¼š
- **è¡Œä¸ºæ˜¯å­¦ä¹ çš„**ï¼šæ¨¡å¼ä»Žè®­ç»ƒæ•°æ®ä¸­æ¶ŒçŽ°
- **é€»è¾‘æ˜¯éšå¼çš„**ï¼šç¼–ç åœ¨æ•°åäº¿ä¸ªæƒé‡å€¼ä¸­
- **æµ‹è¯•æ˜¯æ¦‚çŽ‡æ€§çš„**ï¼šç›¸åŒè¾“å…¥å¯èƒ½äº§ç”Ÿä¸åŒè¾“å‡º
- **å†…å­˜æ˜¯åˆ†å¸ƒå¼çš„**ï¼šçŸ¥è¯†åˆ†æ•£åœ¨å‚æ•°ä¸­

### å¹¶æŽ’å¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       æ–¹é¢         â”‚     ä¼ ç»Ÿè½¯ä»¶        â”‚        LLM          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å†³ç­–æ–¹å¼           â”‚ if-elseã€è§„åˆ™       â”‚ çŸ©é˜µä¹˜æ³•            â”‚
â”‚                    â”‚                     â”‚ + å­¦ä¹ åˆ°çš„æƒé‡      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çŸ¥è¯†å­˜å‚¨           â”‚ æ•°æ®åº“ã€æ–‡ä»¶        â”‚ æ¨¡åž‹å‚æ•°            â”‚
â”‚                    â”‚                     â”‚ ï¼ˆæƒé‡/åç½®ï¼‰       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¤„ç†æ–°æƒ…å†µ         â”‚ æ·»åŠ æ–°ä»£ç /è§„åˆ™     â”‚ å·²ç»èƒ½æ³›åŒ–          â”‚
â”‚                    â”‚                     â”‚ ï¼ˆå¦‚æžœåœ¨è®­ç»ƒä¸­è§è¿‡ï¼‰â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ‰§è¡Œæµç¨‹           â”‚ æŽ§åˆ¶æµï¼ˆå¾ªçŽ¯ã€      â”‚ å‰å‘ä¼ æ’­            â”‚
â”‚                    â”‚ åˆ†æ”¯ã€è°ƒç”¨ï¼‰        â”‚ ç©¿è¿‡å„å±‚            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è°ƒè¯•               â”‚ æ–­ç‚¹ã€æ—¥å¿—          â”‚ æ³¨æ„åŠ›åˆ†æžã€        â”‚
â”‚                    â”‚                     â”‚ æŽ¢é’ˆã€æ¶ˆèž          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ èµ„æºä½¿ç”¨           â”‚ CPUå¯†é›†åž‹           â”‚ GPU/å†…å­˜å¯†é›†åž‹      â”‚
â”‚                    â”‚ é€šå¸¸O(n)            â”‚ æ³¨æ„åŠ›O(nÂ²)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¿®æ”¹æ–¹å¼           â”‚ ç¼–è¾‘æºä»£ç           â”‚ å¾®è°ƒã€æç¤ºè¯        â”‚
â”‚                    â”‚                     â”‚ æˆ–é‡æ–°è®­ç»ƒ          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¤±è´¥æ¨¡å¼           â”‚ å´©æºƒã€é”™è¯¯          â”‚ å¹»è§‰ã€               â”‚
â”‚                    â”‚                     â”‚ é”™è¯¯ç­”æ¡ˆ            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…·ä½“ç¤ºä¾‹ï¼šæƒ…æ„Ÿåˆ†æž

è®©æˆ‘ä»¬çœ‹çœ‹åŒä¸€ä¸ªä»»åŠ¡å¦‚ä½•ç”¨ä¸åŒæ–¹å¼å®žçŽ°ï¼š

#### ä¼ ç»Ÿæ–¹æ³•
```python
# åŸºäºŽè§„åˆ™çš„æƒ…æ„Ÿåˆ†æž
def analyze_sentiment(text):
    positive_words = {"å¥½", "æ£’", "ä¼˜ç§€", "å¼€å¿ƒ", "å–œæ¬¢"}
    negative_words = {"å·®", "ç³Ÿç³•", "éš¾å—", "ä¼¤å¿ƒ", "è®¨åŽŒ"}

    score = 0
    for word in positive_words:
        if word in text:
            score += 1
    for word in negative_words:
        if word in text:
            score -= 1

    if score > 0:
        return "positive"
    elif score < 0:
        return "negative"
    return "neutral"

# å±€é™æ€§ï¼š"è¿™éƒ¨ç”µå½±è¿˜ä¸é”™" â†’ å¯èƒ½è¯¯åˆ¤
```

**å±€é™æ€§**ï¼š
- æ— æ³•å¤„ç†å¦å®šï¼ˆ"ä¸é”™" = æ­£é¢ï¼‰
- æ— æ³•ç†è§£ä¸Šä¸‹æ–‡ï¼ˆ"è¿™æ¸¸æˆå¤ªæ€äº†ï¼" = æ­£é¢ï¼‰
- éœ€è¦æ‰‹åŠ¨ç»´æŠ¤è¯å…¸
- å¯¹æ–°è¯ã€ä¿šè¯­æˆ–é¢†åŸŸç‰¹å®šè¯­è¨€å¤±æ•ˆ

#### LLM æ–¹æ³•
```python
# åŸºäºŽLLMçš„æƒ…æ„Ÿåˆ†æžï¼ˆç®€åŒ–ç‰ˆï¼‰
def analyze_sentiment(text, model, tokenizer):
    prompt = f"åˆ†æžä»¥ä¸‹æ–‡æœ¬çš„æƒ…æ„Ÿï¼š'{text}'\n\næƒ…æ„Ÿï¼š"

    tokens = tokenizer.encode(prompt)
    logits = model.forward(tokens)  # ç¥žç»ç½‘ç»œå‰å‘ä¼ æ’­

    # æ¨¡åž‹è¾“å‡ºä¸‹ä¸€ä¸ªtokençš„æ¦‚çŽ‡åˆ†å¸ƒ
    # "æ­£é¢"ã€"è´Ÿé¢"ã€"ä¸­æ€§"å…·æœ‰æœ€é«˜æ¦‚çŽ‡
    return decode_sentiment(logits)

# èƒ½å¤„ç†ï¼š"è¿™éƒ¨ç”µå½±è¿˜ä¸é”™" â†’ æ­£é¢
# èƒ½å¤„ç†ï¼š"è¿™æ¸¸æˆå¤ªæ€äº†ï¼"ï¼ˆæ¸¸æˆè¯­å¢ƒï¼‰â†’ æ­£é¢
```

**ä¼˜åŠ¿**ï¼š
- ç†è§£ä¸Šä¸‹æ–‡å’Œç»†å¾®å·®åˆ«
- è‡ªç„¶å¤„ç†å¦å®š
- èƒ½æ³›åŒ–åˆ°æ–°è¡¨è¾¾
- æ— éœ€æ‰‹åŠ¨ç»´æŠ¤è§„åˆ™

### ç†è§£"é»‘ç›’"

å½“äººä»¬è¯´ LLM æ˜¯"é»‘ç›’"æ—¶ï¼Œä»–ä»¬æŒ‡çš„æ˜¯ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LLM å†…éƒ¨                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ä¼ ç»Ÿç¨‹åºï¼š                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ if word in dictionary:                              â”‚   â”‚
â”‚  â”‚     return correct_spelling(word)  â† ä½ å¯ä»¥è¯»æ‡‚     â”‚   â”‚
â”‚  â”‚ else:                                     è¿™ä¸ªï¼    â”‚   â”‚
â”‚  â”‚     return find_closest_match(word)                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  LLMï¼š                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ weights = [                                         â”‚   â”‚
â”‚  â”‚   0.0234, -0.1567, 0.8921, 0.0012, -0.4521, ...    â”‚   â”‚
â”‚  â”‚   ï¼ˆè¿˜æœ‰70äº¿ä¸ªæ•°å­—ï¼‰                                 â”‚   â”‚
â”‚  â”‚ ]                                                   â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚ output = input @ weights[layer1]                    â”‚   â”‚
â”‚  â”‚ output = activation(output)    â† è¿™ä¸ªæ•°å­—           â”‚   â”‚
â”‚  â”‚ output = output @ weights[layer2]   æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ    â”‚   â”‚
â”‚  â”‚ ... ï¼ˆè¿˜æœ‰32å±‚ï¼‰                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  "çŸ¥è¯†"åˆ†å¸ƒåœ¨æ•°åäº¿ä¸ªæ•°å­—ä¸­ï¼Œè€Œéžå¯è¯»çš„ä»£ç ã€‚                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç†è§£ LLM å†…éƒ¨åŽŸç†å¾ˆé‡è¦â€”â€”ä¹Ÿæ˜¯æœ¬è¯¾ç¨‹å­˜åœ¨çš„æ„ä¹‰ã€‚

---

## é€šç”¨è½¯ä»¶æ¨¡åž‹ï¼šè¾“å…¥ â†’ å¤„ç† â†’ è¾“å‡º

å°½ç®¡æœ‰è¯¸å¤šä¸åŒï¼Œä½†ç†è§£è¿™ä¸€ç‚¹è‡³å…³é‡è¦ï¼š**LLM æœ¬è´¨ä¸Šä»ç„¶æ˜¯è½¯ä»¶**ã€‚å’Œä»»ä½•ç¨‹åºä¸€æ ·ï¼Œå®ƒæŽ¥æ”¶è¾“å…¥ã€å¤„ç†å®ƒã€äº§ç”Ÿè¾“å‡ºã€‚åŒºåˆ«åœ¨äºŽè¾“å…¥/è¾“å‡ºçš„*å†…å®¹*ä»¥åŠå¤„ç†çš„*æ–¹å¼*ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               é€šç”¨è½¯ä»¶æ¨¡åž‹                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   æ‰€æœ‰è½¯ä»¶éƒ½éµå¾ªï¼šè¾“å…¥ â”€â”€â–º å¤„ç† â”€â”€â–º è¾“å‡º                      â”‚
â”‚                                                             â”‚
â”‚   ä¼ ç»Ÿè½¯ä»¶ï¼š                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  è¾“å…¥ï¼šç»“æž„åŒ–æ•°æ®ï¼ˆJSONã€SQLæŸ¥è¯¢ã€HTTPï¼‰              â”‚  â”‚
â”‚   â”‚  å¤„ç†ï¼šæ‰§è¡Œä»£ç é€»è¾‘ï¼ˆif/elseã€å¾ªçŽ¯ï¼‰                  â”‚  â”‚
â”‚   â”‚  è¾“å‡ºï¼šç»“æž„åŒ–æ•°æ®ï¼ˆJSONã€HTMLã€æ•°æ®åº“ï¼‰               â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚   LLMè½¯ä»¶ï¼š                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  è¾“å…¥ï¼šTokenåºåˆ—ï¼ˆè‡ªç„¶è¯­è¨€ â†’ æ•°å­—ï¼‰                   â”‚  â”‚
â”‚   â”‚  å¤„ç†ï¼šç©¿è¿‡ç¥žç»ç½‘ç»œå±‚çš„çŸ©é˜µè¿ç®—                       â”‚  â”‚
â”‚   â”‚  è¾“å‡ºï¼šæ¦‚çŽ‡åˆ†å¸ƒ â†’ ä¸‹ä¸€ä¸ªtoken                        â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¾“å…¥/è¾“å‡ºå¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       æ–¹é¢         â”‚      ä¼ ç»Ÿè½¯ä»¶        â”‚         LLM          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¾“å…¥æ ¼å¼           â”‚ ç»“æž„åŒ–ï¼š             â”‚ åºåˆ—åŒ–ï¼š             â”‚
â”‚                    â”‚ - APIå‚æ•°            â”‚ - Token ID           â”‚
â”‚                    â”‚ - æ•°æ®åº“æŸ¥è¯¢         â”‚ - Embeddings         â”‚
â”‚                    â”‚ - è¡¨å•æ•°æ®           â”‚ - æ³¨æ„åŠ›æŽ©ç          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¾“å…¥å¤§å°           â”‚ å¯å˜ï¼Œé€šå¸¸è¾ƒå°       â”‚ å›ºå®šä¸Šä¸‹æ–‡çª—å£       â”‚
â”‚                    â”‚ ï¼ˆKBçº§åˆ«ï¼‰           â”‚ ï¼ˆ4K-128K tokensï¼‰   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¾“å‡ºæ ¼å¼           â”‚ ç»“æž„åŒ–ï¼š             â”‚ æ¦‚çŽ‡åˆ†å¸ƒï¼š           â”‚
â”‚                    â”‚ - JSON/XML           â”‚ - è¯è¡¨ä¸Šçš„logits     â”‚
â”‚                    â”‚ - æ¸²æŸ“çš„HTML         â”‚ - é‡‡æ ·çš„token ID     â”‚
â”‚                    â”‚ - äºŒè¿›åˆ¶æ•°æ®         â”‚ - ç„¶åŽè§£ç ä¸ºæ–‡æœ¬     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¾“å‡ºç”Ÿæˆ           â”‚ ä¸€æ¬¡æ€§å®Œæ•´å“åº”       â”‚ è‡ªå›žå½’ï¼š             â”‚
â”‚                    â”‚                      â”‚ é€ä¸ªtokenç”Ÿæˆ        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç¡®å®šæ€§             â”‚ ç›¸åŒè¾“å…¥ =           â”‚ ç›¸åŒè¾“å…¥ â‰            â”‚
â”‚                    â”‚ ç›¸åŒè¾“å‡º             â”‚ ç›¸åŒè¾“å‡º             â”‚
â”‚                    â”‚                      â”‚ ï¼ˆé™¤éžtemp=0ï¼‰       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¤„ç†æ¨¡åž‹           â”‚ è¯·æ±‚-å“åº”            â”‚ æµå¼ç”Ÿæˆ             â”‚
â”‚                    â”‚ ï¼ˆå•æ¬¡ä¼ é€’ï¼‰         â”‚ ï¼ˆè¿­ä»£è§£ç ï¼‰         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®ç›¸ä¼¼ç‚¹

ä¸¤è€…åœ¨ç¡¬ä»¶å±‚é¢éƒ½æ˜¯**ç¡®å®šæ€§ç³»ç»Ÿ**ï¼š
- ä¼ ç»Ÿè½¯ä»¶ï¼šCPUé¡ºåºæ‰§è¡ŒæŒ‡ä»¤
- LLMï¼šGPUå¹¶è¡Œæ‰§è¡ŒçŸ©é˜µä¹˜æ³•

LLM ä¸­çš„"éšæœºæ€§"æ¥è‡ª**é‡‡æ ·ç­–ç•¥**ï¼ˆæ¸©åº¦ã€top-pï¼‰ï¼Œè€Œéžè®¡ç®—æœ¬èº«ã€‚å½“ temperature=0 æ—¶ï¼ŒLLM æ˜¯å®Œå…¨ç¡®å®šçš„ã€‚

---

## Part 3: è®¡ç®—å’Œå†…å­˜ï¼šæ ¹æœ¬æ€§å·®å¼‚

LLM ä¸Žä¼ ç»Ÿè½¯ä»¶æœ€æ·±åˆ»çš„åŒºåˆ«åœ¨äºŽå®ƒä»¬çš„**èµ„æºæ¶ˆè€—æ¨¡å¼**ã€‚è¿™ç§å·®å¼‚ä»Žæ ¹æœ¬ä¸Šå†³å®šäº†å®ƒä»¬è¿è¡Œçš„ç¡¬ä»¶ã€‚

### ä¼ ç»Ÿè½¯ä»¶ï¼šè®¡ç®—è½»é‡ã€é€»è¾‘å¯†é›†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ä¼ ç»Ÿè½¯ä»¶èµ„æºç‰¹å¾                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  å…¸åž‹ Web æœåŠ¡å™¨è¯·æ±‚ï¼š                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  1. è§£æžHTTPè¯·æ±‚          ~1,000 CPUå‘¨æœŸ           â”‚    â”‚
â”‚  â”‚  2. æ•°æ®åº“æŸ¥è¯¢            ~10,000 å‘¨æœŸ             â”‚    â”‚
â”‚  â”‚  3. ä¸šåŠ¡é€»è¾‘              ~5,000 å‘¨æœŸ              â”‚    â”‚
â”‚  â”‚  4. æ¸²æŸ“å“åº”              ~2,000 å‘¨æœŸ              â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚    â”‚
â”‚  â”‚  æ€»è®¡ï¼šæ¯è¯·æ±‚ ~20,000 CPUå‘¨æœŸ                       â”‚    â”‚
â”‚  â”‚  åœ¨3 GHzä¸‹ï¼š~7å¾®ç§’                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  å†…å­˜è®¿é—®æ¨¡å¼ï¼š                                              â”‚
â”‚  â€¢ éšæœºè®¿é—®ï¼Œç¼“å­˜å‹å¥½                                        â”‚
â”‚  â€¢ å·¥ä½œé›†ï¼šMBçº§åˆ«                                           â”‚
â”‚  â€¢ å¸¦å®½ï¼š10-50 GB/s è¶³å¤Ÿ                                    â”‚
â”‚                                                             â”‚
â”‚  ç“¶é¢ˆï¼šI/Oï¼ˆç£ç›˜ã€ç½‘ç»œï¼‰ï¼Œè€Œéžè®¡ç®—                            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### LLM æŽ¨ç†ï¼šè®¡ç®—å¯†é›†ã€å¸¦å®½é¥¥æ¸´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               LLM æŽ¨ç†èµ„æºç‰¹å¾                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  å•ä¸ªTokenç”Ÿæˆï¼ˆLlama 7Bï¼‰ï¼š                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æ¯å±‚ï¼ˆå…±32å±‚ï¼‰ï¼š                                   â”‚    â”‚
â”‚  â”‚  â€¢ æ³¨æ„åŠ›QKVï¼š   4096 Ã— 4096 Ã— 3 = 5000ä¸‡æ¬¡è¿ç®—    â”‚    â”‚
â”‚  â”‚  â€¢ æ³¨æ„åŠ›è¾“å‡ºï¼š  4096 Ã— 4096     = 1700ä¸‡æ¬¡è¿ç®—    â”‚    â”‚
â”‚  â”‚  â€¢ FFNä¸ŠæŠ•å½±ï¼š   4096 Ã— 11008    = 4500ä¸‡æ¬¡è¿ç®—    â”‚    â”‚
â”‚  â”‚  â€¢ FFNä¸‹æŠ•å½±ï¼š   11008 Ã— 4096    = 4500ä¸‡æ¬¡è¿ç®—    â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚    â”‚
â”‚  â”‚  æ¯å±‚ï¼š~1.6äº¿æ¬¡è¿ç®—                                 â”‚    â”‚
â”‚  â”‚  æ‰€æœ‰å±‚ï¼š32 Ã— 1.6äº¿ = 50äº¿æ¬¡è¿ç®—                    â”‚    â”‚
â”‚  â”‚                                                    â”‚    â”‚
â”‚  â”‚  æ€»è®¡ï¼šæ¯token ~14 TFLOPS                          â”‚    â”‚
â”‚  â”‚  ä»¥100 tokens/ç§’è®¡ï¼šæŒç»­1.4 PFLOPS                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  å†…å­˜è®¿é—®æ¨¡å¼ï¼š                                              â”‚
â”‚  â€¢ é¡ºåºè®¿é—®ï¼Œå¤§è§„æ¨¡è¯»å–                                      â”‚
â”‚  â€¢ å·¥ä½œé›†ï¼š14+ GBï¼ˆæ¨¡åž‹æƒé‡ï¼‰                                â”‚
â”‚  â€¢ å¸¦å®½éœ€æ±‚ï¼š1-3 TB/s                                       â”‚
â”‚                                                             â”‚
â”‚  ç“¶é¢ˆï¼šå†…å­˜å¸¦å®½ å’Œ è®¡ç®—                                      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é‡åŒ–å¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       æŒ‡æ ‡         â”‚      ä¼ ç»Ÿè½¯ä»¶        â”‚     LLM æŽ¨ç†         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¯è¯·æ±‚è®¡ç®—é‡       â”‚ æ•°åƒ                 â”‚ æ•°åäº¿               â”‚
â”‚                    â”‚ CPUå‘¨æœŸ              â”‚ FLOPs                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å†…å­˜å ç”¨           â”‚ MBçº§åˆ«               â”‚ GBåˆ°TBçº§åˆ«           â”‚
â”‚                    â”‚ ï¼ˆåº”ç”¨+æ•°æ®ï¼‰        â”‚ ï¼ˆæ¨¡åž‹æƒé‡ï¼‰         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å†…å­˜å¸¦å®½éœ€æ±‚       â”‚ 10-50 GB/s           â”‚ 1-3 TB/s             â”‚
â”‚                    â”‚                      â”‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è®¡ç®—æ¨¡å¼           â”‚ ä¸è§„åˆ™ã€å¤šåˆ†æ”¯       â”‚ è§„åˆ™ã€å¯†é›†           â”‚
â”‚                    â”‚ ï¼ˆæŽ§åˆ¶æµï¼‰           â”‚ ï¼ˆçŸ©é˜µä¹˜æ³•ï¼‰         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¹¶è¡Œæ€§             â”‚ ä»»åŠ¡çº§               â”‚ æ•°æ®çº§ï¼ˆSIMDï¼‰       â”‚
â”‚                    â”‚ ï¼ˆçº¿ç¨‹ã€è¿›ç¨‹ï¼‰       â”‚ ï¼ˆæ•°åƒæ ¸å¿ƒï¼‰         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å»¶è¿Ÿå®¹å¿åº¦         â”‚ å¾®ç§’çº§               â”‚ æ¯«ç§’çº§               â”‚
â”‚                    â”‚                      â”‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŠŸè€—               â”‚ 50-200Wï¼ˆæœåŠ¡å™¨ï¼‰    â”‚ 300-700Wï¼ˆæ¯GPUï¼‰    â”‚
â”‚                    â”‚                      â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸ºä½•è¿™å¾ˆé‡è¦

èµ„æºéœ€æ±‚çš„å·®å¼‚å¯¼è‡´å®Œå…¨ä¸åŒçš„ä¼˜åŒ–ç­–ç•¥ï¼š

| ä¼ ç»Ÿè½¯ä»¶ | LLM æŽ¨ç† |
|----------|----------|
| ç¼“å­˜ä¼˜åŒ– | KV-cacheå¤ç”¨ |
| æŸ¥è¯¢ä¼˜åŒ– | æ‰¹å¤„ç†ç­–ç•¥ |
| è¿žæŽ¥æ±  | æŒç»­æ‰¹å¤„ç† |
| CDN / è´Ÿè½½å‡è¡¡ | å¼ é‡å¹¶è¡Œ |
| å¼‚æ­¥I/O | æŠ•æœºè§£ç  |

---

## Part 4: ç¡¬ä»¶å¹³å°ï¼šCPU vs GPU

èµ„æºç‰¹å¾çš„å·®å¼‚è§£é‡Šäº†ä¸ºä»€ä¹ˆ LLM éœ€è¦ä¸“ç”¨ç¡¬ä»¶ã€‚

### CPUï¼šä¸ºä¼ ç»Ÿè½¯ä»¶ä¼˜åŒ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CPU æž¶æž„                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Core 0    Core 1    Core 2    ...    Core N       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚  â”‚ ALU â”‚  â”‚ ALU â”‚   â”‚ ALU â”‚         â”‚ ALU â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ FPU â”‚  â”‚ FPU â”‚   â”‚ FPU â”‚         â”‚ FPU â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ L1$ â”‚  â”‚ L1$ â”‚   â”‚ L1$ â”‚         â”‚ L1$ â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ L2$ â”‚  â”‚ L2$ â”‚   â”‚ L2$ â”‚         â”‚ L2$ â”‚       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â”‚           å…±äº« L3 ç¼“å­˜ (30-100 MB)                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ç‰¹ç‚¹ï¼š                                                     â”‚
â”‚  â€¢ å°‘é‡å¼ºå¤§æ ¸å¿ƒï¼ˆ8-64ä¸ªï¼‰                                   â”‚
â”‚  â€¢ å¤§ç¼“å­˜ï¼ˆä¼˜åŒ–å±€éƒ¨æ€§ï¼‰                                     â”‚
â”‚  â€¢ åˆ†æ”¯é¢„æµ‹ï¼ˆå¤„ç†æŽ§åˆ¶æµï¼‰                                   â”‚
â”‚  â€¢ ä¹±åºæ‰§è¡Œï¼ˆéšè—å»¶è¿Ÿï¼‰                                     â”‚
â”‚  â€¢ å†…å­˜å¸¦å®½ï¼š50-200 GB/s                                    â”‚
â”‚                                                             â”‚
â”‚  é€‚åˆï¼šä¸è§„åˆ™å·¥ä½œè´Ÿè½½ã€ä½Žå»¶è¿Ÿã€å¤šåˆ†æ”¯ä»£ç                     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### GPUï¼šä¸ºå¹¶è¡Œè®¡ç®—ä¼˜åŒ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GPU æž¶æž„                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  SM 0      SM 1      SM 2    ...    SM N           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”         â”‚   â”‚
â”‚  â”‚  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚   â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚       â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚         â”‚   â”‚
â”‚  â”‚  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚   â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚       â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚  æ¯ä¸ª   â”‚   â”‚
â”‚  â”‚  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚   â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚       â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚  block  â”‚   â”‚
â”‚  â”‚  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚  â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚   â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚       â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚  = 128  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”˜  æ ¸å¿ƒ   â”‚   â”‚
â”‚  â”‚                                                    â”‚   â”‚
â”‚  â”‚  æ€»è®¡ï¼š10,000+ ç®€å•æ ¸å¿ƒ                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚                   HBM å†…å­˜                         â”‚   â”‚
â”‚  â”‚             (80 GB @ 3 TB/s å¸¦å®½)                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ç‰¹ç‚¹ï¼š                                                     â”‚
â”‚  â€¢ æ•°åƒä¸ªç®€å•æ ¸å¿ƒï¼ˆ10,000+ï¼‰                                â”‚
â”‚  â€¢ å°ç¼“å­˜ï¼ˆä¼˜åŒ–åžåé‡ï¼‰                                     â”‚
â”‚  â€¢ SIMDæ‰§è¡Œï¼ˆç›¸åŒæŒ‡ä»¤ï¼Œå¤§é‡æ•°æ®ï¼‰                           â”‚
â”‚  â€¢ é«˜å†…å­˜å¸¦å®½ï¼š1-3 TB/s                                     â”‚
â”‚  â€¢ Tensoræ ¸å¿ƒç”¨äºŽçŸ©é˜µè¿ç®—                                   â”‚
â”‚                                                             â”‚
â”‚  é€‚åˆï¼šè§„åˆ™å·¥ä½œè´Ÿè½½ã€å¤§è§„æ¨¡å¹¶è¡Œã€GEMM                        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¡¬ä»¶å¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ç‰¹æ€§         â”‚        CPU           â”‚      GPU/NPU         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ ¸å¿ƒæ•°é‡           â”‚ 8-64 æ ¸å¿ƒ            â”‚ 10,000+ æ ¸å¿ƒ         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ ¸å¿ƒå¤æ‚åº¦         â”‚ é«˜ï¼ˆä¹±åºæ‰§è¡Œã€åˆ†æ”¯   â”‚ ä½Žï¼ˆç®€å•ALUï¼‰        â”‚
â”‚                    â”‚ é¢„æµ‹ã€æŽ¨æµ‹æ‰§è¡Œï¼‰     â”‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ—¶é’Ÿé¢‘çŽ‡           â”‚ 3-5 GHz              â”‚ 1-2 GHz              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å†…å­˜å¸¦å®½           â”‚ 50-200 GB/s          â”‚ 1-3 TB/s             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å†…å­˜å®¹é‡           â”‚ 128GB-2TB (DDR)      â”‚ 24-80GB (HBM)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å³°å€¼ç®—åŠ› (FP16)    â”‚ 1-5 TFLOPS           â”‚ 300-1000 TFLOPS      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŠŸè€—               â”‚ 100-300W             â”‚ 300-700W             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç¼–ç¨‹æ¨¡åž‹           â”‚ é¡ºåºçº¿ç¨‹             â”‚ CUDA/OpenCLå†…æ ¸      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æœ€é€‚åˆ             â”‚ å»¶è¿Ÿæ•æ„Ÿã€           â”‚ åžåå¯¼å‘ã€           â”‚
â”‚                    â”‚ å¤šåˆ†æ”¯ä»£ç            â”‚ å¹¶è¡Œå·¥ä½œè´Ÿè½½         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Part 5: æŽ¨ç†å¼•æ“Ž = LLM çš„"æ“ä½œç³»ç»Ÿ"

è¿™æ˜¯æœ¬è¯¾ç¨‹çš„æ ¸å¿ƒæ´žè§ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  è½¯ä»¶æ ˆç±»æ¯”                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   ä¼ ç»Ÿè®¡ç®—                          AIè®¡ç®—                   â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚    åº”ç”¨ç¨‹åº     â”‚              â”‚    LLM æ¨¡åž‹     â”‚      â”‚
â”‚   â”‚ (Chrome, Word)  â”‚              â”‚ (Llama, Qwen)   â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚            â”‚                                â”‚               â”‚
â”‚            â–¼                                â–¼               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚    æ“ä½œç³»ç»Ÿ     â”‚              â”‚   æŽ¨ç†å¼•æ“Ž      â”‚      â”‚
â”‚   â”‚ (Linux, Windows)â”‚              â”‚ (vLLM, TGI,     â”‚      â”‚
â”‚   â”‚                 â”‚              â”‚  TensorRT-LLM)  â”‚      â”‚
â”‚   â”‚ â€¢ è¿›ç¨‹ç®¡ç†      â”‚              â”‚ â€¢ å†…å­˜ç®¡ç†      â”‚      â”‚
â”‚   â”‚ â€¢ å†…å­˜ç®¡ç†      â”‚              â”‚ â€¢ KVç¼“å­˜ç®¡ç†    â”‚      â”‚
â”‚   â”‚ â€¢ I/Oè°ƒåº¦       â”‚              â”‚ â€¢ æ‰¹å¤„ç†è°ƒåº¦    â”‚      â”‚
â”‚   â”‚ â€¢ è®¾å¤‡é©±åŠ¨      â”‚              â”‚ â€¢ ç®—å­ä¼˜åŒ–      â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚            â”‚                                â”‚               â”‚
â”‚            â–¼                                â–¼               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚      CPU        â”‚              â”‚    GPU / NPU    â”‚      â”‚
â”‚   â”‚     ç¡¬ä»¶        â”‚              â”‚      ç¡¬ä»¶       â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â”‚   æ“ä½œç³»ç»Ÿæ˜¯è½¯ä»¶å’Œç¡¬ä»¶ä¹‹é—´çš„æ¡¥æ¢ã€‚                            â”‚
â”‚   æŽ¨ç†å¼•æ“Žæ˜¯LLMå’ŒGPUä¹‹é—´çš„æ¡¥æ¢ã€‚                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¿™ä¸ª"æ“ä½œç³»ç»Ÿ"å±‚

æ­£å¦‚æ“ä½œç³»ç»Ÿä¸ºåº”ç”¨ç¨‹åºæŠ½è±¡ç¡¬ä»¶å¤æ‚æ€§ï¼š

| æ“ä½œç³»ç»Ÿè§’è‰² | æŽ¨ç†å¼•æ“Žè§’è‰² |
|-------------|-------------|
| å†…å­˜åˆ†é… | GPUå†…å­˜ç®¡ç† |
| è¿›ç¨‹è°ƒåº¦ | è¯·æ±‚æ‰¹å¤„ç†ä¸Žè°ƒåº¦ |
| è™šæ‹Ÿå†…å­˜ | KVç¼“å­˜åˆ†é¡µï¼ˆPagedAttentionï¼‰ |
| è®¾å¤‡é©±åŠ¨ | CUDAç®—å­ä¼˜åŒ– |
| æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ | å‰ç¼€ç¼“å­˜ |
| å¤šè¿›ç¨‹éš”ç¦» | å¤šç§Ÿæˆ·æœåŠ¡ |

### æ²¡æœ‰æŽ¨ç†å¼•æ“Žçš„æƒ…å†µ

```python
# æœ´ç´ æ–¹æ³•ï¼šç›´æŽ¥æ¨¡åž‹æ‰§è¡Œ
model = load_model("llama-7b")  # 14GB GPUå†…å­˜

for request in requests:
    output = model.generate(request)  # ä¸€æ¬¡ä¸€ä¸ª
    # GPUåˆ©ç”¨çŽ‡ï¼š10-20%
    # åžåé‡ï¼š10 tokens/ç§’
    # å†…å­˜ï¼šKVç¼“å­˜æµªè´¹
```

### ä½¿ç”¨æŽ¨ç†å¼•æ“Žçš„æƒ…å†µ

```python
# ä¼˜åŒ–æ–¹æ³•ï¼šæŽ¨ç†å¼•æ“Žç®¡ç†ä¸€åˆ‡
engine = InferenceEngine(
    model="llama-7b",
    tensor_parallel=2,           # è·¨GPUåˆ†å‰²
    max_batch_size=64,           # æ‰¹å¤„ç†è¯·æ±‚
    kv_cache_policy="paged",     # é«˜æ•ˆå†…å­˜
)

# å¼•æ“Žå¤„ç†ï¼š
# - æŒç»­æ‰¹å¤„ç†ï¼ˆåŠ¨æ€æ·»åŠ /ç§»é™¤è¯·æ±‚ï¼‰
# - KVç¼“å­˜ç®¡ç†ï¼ˆPagedAttentionï¼‰
# - å†…å­˜ä¼˜åŒ–ï¼ˆé‡åŒ–ã€å¸è½½ï¼‰
# - å¹¶è¡Œæ€§ï¼ˆè·¨è®¾å¤‡çš„TPã€PPï¼‰
#
# GPUåˆ©ç”¨çŽ‡ï¼š80%+
# åžåé‡ï¼š1000+ tokens/ç§’
# å†…å­˜ï¼šé«˜æ•ˆå…±äº«
```

---

## Part 6: è¯¾ç¨‹ç›®æ ‡

### ä»Žé›¶æž„å»º LLM çš„"æ“ä½œç³»ç»Ÿ"

| Layer | å†…å®¹ |
|-------|------|
| **Layer 1** | æ¨¡åž‹åŠ è½½ä¸Žæ‰§è¡Œï¼šåŠ è½½æƒé‡ã€å‰å‘ä¼ æ’­ã€åˆ†è¯ä¸Žç”Ÿæˆ |
| **Layer 2** | å†…å­˜ç®¡ç†ï¼šKVç¼“å­˜ã€PagedAttention |
| **Layer 3** | è°ƒåº¦ä¸Žæ‰¹å¤„ç†ï¼šæŒç»­æ‰¹å¤„ç†ã€è¯·æ±‚è°ƒåº¦ã€æŠ¢å ç­–ç•¥ |
| **Layer 4** | å¹¶è¡Œä¸Žä¼˜åŒ–ï¼šTPã€PPã€æŠ•æœºè§£ç ç­‰ |

**æœ€ç»ˆç›®æ ‡**ï¼šæž„å»ºä½ è‡ªå·±çš„ "AIOS" â€” AIæ“ä½œç³»ç»Ÿ

### ä¸ºä»€ä¹ˆä»Žé›¶æž„å»ºï¼Ÿ

1. **æ·±åº¦ç†è§£**ï¼šä½¿ç”¨ vLLM å¾ˆå®¹æ˜“ï¼›ç†è§£*ä¸ºä»€ä¹ˆ*å®ƒèƒ½å·¥ä½œè®©ä½ ä¸å¯æ›¿ä»£
2. **è°ƒè¯•èƒ½åŠ›**ï¼šå½“ç”Ÿäº§çŽ¯å¢ƒå‡ºé—®é¢˜æ—¶ï¼Œä½ éœ€è¦ç†è§£æ¯ä¸€å±‚
3. **åˆ›æ–°èƒ½åŠ›**ï¼šä¸‹ä¸€ä¸ªçªç ´å¯èƒ½æ¥è‡ªä½ 
4. **èŒä¸šå‘å±•**ï¼šç†è§£å†…éƒ¨åŽŸç†çš„AI infraå·¥ç¨‹å¸ˆéœ€æ±‚æ—ºç››

---

## ä¸ºä»€ä¹ˆ LLM æŽ¨ç†å¾ˆé‡è¦

### è®­ç»ƒ vs æŽ¨ç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   è®­ç»ƒ vs æŽ¨ç†                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  è®­ç»ƒï¼ˆå­¦ä¹ ï¼‰                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æ•°æ® â”€â”€â–º æ¨¡åž‹ â”€â”€â–º é¢„æµ‹ â”€â”€â–º æŸå¤± â”€â”€â–º æ›´æ–°            â”‚  â”‚
â”‚  â”‚           â”‚                              â”‚            â”‚  â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚
â”‚  â”‚                      åå‘ä¼ æ’­                          â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  â€¢ éœ€è¦æµ·é‡ç®—åŠ›ï¼ˆæ•°åƒGPUï¼‰                              â”‚  â”‚
â”‚  â”‚  â€¢ è€—æ—¶æ•°æœˆ                                            â”‚  â”‚
â”‚  â”‚  â€¢ æˆæœ¬ï¼šæ•°ç™¾ä¸‡åˆ°ä¸Šäº¿ç¾Žå…ƒ                               â”‚  â”‚
â”‚  â”‚  â€¢ ç”±AIå®žéªŒå®¤å®Œæˆä¸€æ¬¡                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  æŽ¨ç†ï¼ˆä½¿ç”¨ï¼‰                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è¾“å…¥ â”€â”€â–º è®­ç»ƒå¥½çš„æ¨¡åž‹ â”€â”€â–º è¾“å‡º                        â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  â€¢ åœ¨ä½ çš„ç¡¬ä»¶ä¸Šè¿è¡Œ                                     â”‚  â”‚
â”‚  â”‚  â€¢ æ¯æ¬¡å“åº”æ¯«ç§’åˆ°ç§’çº§                                   â”‚  â”‚
â”‚  â”‚  â€¢ æˆæœ¬ï¼šç”µè´¹ + ç¡¬ä»¶                                    â”‚  â”‚
â”‚  â”‚  â€¢ æ¯å¤©å‘ç”Ÿæ•°åäº¿æ¬¡                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  æœ¬è¯¾ç¨‹ä¸“æ³¨äºŽæŽ¨ç†                                            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸ºä»€ä¹ˆä¸“æ³¨äºŽæŽ¨ç†ï¼Ÿ

1. **å®žé™…å½±å“**ï¼šæ¯ä¸ª ChatGPT å›žå¤ã€æ¯ä¸ª Copilot å»ºè®®ã€æ¯ä¸ªAIåŠŸèƒ½éƒ½åœ¨è¿è¡ŒæŽ¨ç†
2. **ç¡¬ä»¶å¯åŠæ€§**ï¼šä½ å¯ä»¥åœ¨å•ä¸ªGPUä¸Šè¿è¡ŒæŽ¨ç†ï¼›è®­ç»ƒéœ€è¦é›†ç¾¤
3. **ä¼˜åŒ–å¾ˆé‡è¦**ï¼šæŽ¨ç†åŠ é€Ÿ10å€ = ç”Ÿäº§æˆæœ¬é™ä½Ž10å€
4. **éœ€æ±‚å¢žé•¿**ï¼šAIç ”ç©¶å‘˜å’ŒæŽ¨ç†å·¥ç¨‹å¸ˆä¹‹é—´çš„ç¼ºå£åœ¨æ‰©å¤§

### æŽ¨ç†çš„æŒ‘æˆ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æŽ¨ç†æŒ‘æˆ˜                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. å†…å­˜                                                    â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚     â”‚  Llama 2 7B = 70äº¿å‚æ•°                          â”‚     â”‚
â”‚     â”‚  Ã— 2å­—èŠ‚ (float16) = ä»…æƒé‡å°±14 GB              â”‚     â”‚
â”‚     â”‚  + æ¿€æ´»å€¼ + KVç¼“å­˜ = 20-40 GB                   â”‚     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                             â”‚
â”‚  2. è®¡ç®—                                                    â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚     â”‚  æ¯ä¸ªtokenï¼šæ•°åäº¿æ¬¡ä¹˜åŠ è¿ç®—                      â”‚     â”‚
â”‚     â”‚  æ³¨æ„åŠ›ï¼šéšåºåˆ—é•¿åº¦O(nÂ²)                         â”‚     â”‚
â”‚     â”‚  è‡ªå›žå½’ï¼šä¸€æ¬¡ç”Ÿæˆä¸€ä¸ªtoken                        â”‚     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                             â”‚
â”‚  3. å»¶è¿Ÿ                                                    â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚     â”‚  ç”¨æˆ·æœŸæœ›å®žæ—¶å“åº”                                â”‚     â”‚
â”‚     â”‚  é¦–tokenæ—¶é—´å¯¹ç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦                    â”‚     â”‚
â”‚     â”‚  åžåé‡ä¸Žå»¶è¿Ÿçš„æƒè¡¡                              â”‚     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### å­¦ä¹ è·¯å¾„

```
ç¬¬0è¯¾ï¼šå…¥é—¨ä»‹ç» â† ä½ åœ¨è¿™é‡Œï¼
    â†“
ç¬¬1è¯¾ï¼šLLMåŸºç¡€ï¼ˆTransformerã€æ³¨æ„åŠ›æœºåˆ¶ï¼‰
    â†“
ç¬¬2è¯¾ï¼šä½¿ç”¨PyTorchè¿è¡ŒLlama/Qwen
    â†“
[æœªæ¥] KVç¼“å­˜ â†’ æ‰¹å¤„ç† â†’ é‡åŒ– â†’ é«˜çº§ä¼˜åŒ–
```

---

## å‰ç½®è¦æ±‚

**å¿…éœ€**ï¼š
- Python ç¼–ç¨‹ï¼ˆç±»ã€å‡½æ•°ã€æ•°æ®ç»“æž„ï¼‰
- åŸºç¡€çº¿æ€§ä»£æ•°ï¼ˆçŸ©é˜µä¹˜æ³•ã€å‘é‡ï¼‰

**æœ‰å¸®åŠ©ä½†éžå¿…éœ€**ï¼š
- PyTorch åŸºç¡€
- ç¥žç»ç½‘ç»œåŸºç¡€

**çŽ¯å¢ƒ**ï¼š
- Python 3.8+ / PyTorch 2.0+
- CUDA GPUï¼ˆ16GB+ æ˜¾å­˜ï¼‰å¤šå¡çŽ¯å¢ƒ

---

## æ¬¢è¿ŽåŠ å…¥

---

## èµ„æºèŽ·å–

**GitHub ä»“åº“**: [https://github.com/wyann22/aios](https://github.com/wyann22/aios)

æ‰€æœ‰å†…å®¹åŒ…æ‹¬ï¼š
- ðŸ“– è¯¾ç¨‹è®²ä¹‰å’Œå¹»ç¯ç‰‡
- ðŸ’» å®Œæ•´ä»£ç å®žçŽ°
- ðŸ“ ç»ƒä¹ é¢˜å’Œè§£ç­”
- ðŸ”— å‚è€ƒèµ„æ–™é“¾æŽ¥

**ä¸‹ä¸€è¯¾**ï¼š[ç¬¬1è¯¾ - LLMåŸºç¡€](../lesson-1-llm-basics/README.md)
